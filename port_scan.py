
import socket
import requests
from colorama import Fore, Style, init
import os
init()
GREEN = Fore.GREEN
RED = Fore.RED
BLUE = Fore.BLUE
RESET = Fore.RESET
GRAY = Fore.LIGHTBLACK_EX
YELLOW = Fore.YELLOW
banner = f"""{RED}
                          .=..                                              :*:.                    
                           =@:                                             -@- .:                   
                       .:. .@@..                 .                         %% .%.                   
                       .##.+@@@@=           .   :+                        :@%-#*.                   
                        *@@@@@@=.          :- :#=.                       .*@@@@@@%:                 
                      :*%@@@@@#.          -*:*#: .-.                       -@@@@@@@=.               
                   .+%@@@@@@%@-.        .+%#@+=+=-..  ...                   #@***%@@+.              
                 :+@@@@@%@@@#%       .:+@@@@@@@+++++*#+.......              +@@@@+*@@+:..           
               .+@@@@@@@%@@#%*     .-#@@@@@@Sandax@@@%@%##%+.               +@@@@@%=@@+%:.          
              =@@@@@@@@+@@@=@=    .-%@@@@@@@%@@@@@@@@@@@@@*+-:..            *@@@@@@%=@@%@=          
            -@@@@@@@@@##@@@-@- .*@@@@@@@@@@@#=%@@@@%%@@@@@@@%*:...         .@@@@@*@@-#@@@@#.        
          .#@@@@@@@@@@-@@@@-@: .:=%%*:...:::  ...::-*%@*@@@@@@%+:.        .#@%@@@:=@*=@@@@@%:       
        .=@@@@@@@@@@@#=@#%%=@-      ..     .         :@@+%@@@@*==-.      .*@@#@@%=#--*@@@@@@@:      
       :#@@@@@@@@@@@@=-+=%@=@*.                      -#@@*@@@@@:.       .%@@*@@@%-@%@@@@@@@@@@-     
     .-@@@@@@@@@@@@@@*%@=@@+%@%--:..               .=%%@#%@@@@+#+.....-=#@@#@@@@@:@@@Sandax@@@:    
    .+@@@%-@@@@@@@@@@@@+%@@@@*%@#@@%-:...  ...::.:+%#@@+@@@@@++=::=@@@@@@%%@@@@@@:@@@@@@@@@@%@@@.   
    *@@@=%*@@@@@@@@@@@:%@@@@@@@@@*%@@@@@@*-%@@@%@@*@@=%@@@@@@@@%@@@@@%*@@@@@@@@@@:#@@@@@@@@####@%.  
   +@@%*@+@@@Sandax@@:#@@@@@@Sandax@%@@%##@@@@@@+%%#+%@@@@@@@@@@@#*%@@@ @Sandax @@:*@@@@@@@@#*@@*@+  
  -@@#*@+@@@@@@@@@@@-+@@@@@@@@@@@@@@@@@@%@#@#@@@+#%@@@@@@@%%##%@@@@@@@@@@@@@@@@@@:#@@@@@@@@@=@@%#@: 
 .%@#*@@+@@@@@@@@@@#.@@@@+:.#@@#:..%***@@%%%@%**@@@@@##%-::+%@@%++%@@@@@%:.=%@@@@.%@@@@@@@@@-@@@#%* 
 +@%+@@*#@@@Sandax==@@@*.  #%-.  .-##@%#@@#*#@@@@%%* .=. . :%-    :*@@#.   .+@@*.@@@@@@@@@#-@@*%=@:
.%@=@@@=%@@%@@@@@@@-+@@+.. .=   .:%@%##%+::#@@@@@= .+   ....         :%@.     -@:=@@@Sandax%-@@-.=++
-@+%@@@=@@%.*@@@@@@:+@*.       .+@@@#@@@**@@@@@-=: ............  ..    :-       .#@@@@@@@@@*+@@=   +
*@+@:::.%@-.+@@@@@@-=#.        +*%*%@@*-%@@@@%-... .................            -@@@@@@@*@@-%@@+   .
%=*:    #%. =@@@@@@=:..       -@@+*%%%=@@@@@+....:+####%%##*+*:......          .%@@@@@@#.@%-@@@*    
#:.     +*  :@@@@@@*          #@@#@@@=@@@@@%.:+#@@@@@@@@@@@@@*@%=.....         *@@@@@@@+.*-.*@@*    
:       --  .#@@@@@%.         #@#@@#+#@@@@@+%@@@@@@@@@%%%@@@@%*@@+            =@@@@@@@#...  .#@*    
        ..   =@@@@@@-         %%*%#@-@@@@@@+@@@@#*-..    .*@@*#@@@.          -@@@@@@@@-      :@*    
             .-@@@@@#.        =@#@@@-@@@@@@%+@*..         :@##@@@@:         -@@@@@@@@-        **    
              .+@@@@@-         ##@@@:%@@@@@@@-           .=#@@@@@%.        -@@@@@@@%.         -=    
               :@@@@@%         .#%%%@=@@@@@@@@@%#=:..:=*#@@@@@@@@.        -@@@@@@@:.          .:    
                .*@@@@+        .+-%@@@*#@@@@@@Sandax@@@@@@@@@+.        -@@@@@+:...           .    
                 .-%@@@-      .*@%=+@@#%**@@@@@@@@@@@@@@@@@@#+.         -@@*-=.                     
                   .:+@@.     -@@@@@--+#@@#*%%#%@@@@@%%%#+-.           -@#=.                        
                      .+*.    *@@@@@.  ..:-*#%%###*+=:..              .+.                           
                              #@@@@=                                                                
                              #@@@@.                                                                
                              +@@@@.                                     -                          
                              .@@@@=                                    =#                          
                               =@@@@.                               .-+%@-                          
                                +@@@%:                             .*#@@+                           
                                .+@@@@=.                            .=%#:                           
                                  .%@@@@+.                        =+@*.:                            
                                   .:#@@@@@*:                   :*@@%..                             
                                      .-*@@@@@%#*+=-::..::-=+#%%*-:..                               
                                         .:-=+*#%@@@@@@@%%#*=-:.             

                               ______ ___________ ___________  ___  __   __
                               | ___ \  _  | ___ \_   _|  _  \/ _ \ \ \ / /
                               | |_/ / | | | |_/ / | | | | | / /_\ \ \ V / 
                               |  __/| | | |    /  | | | | | |  _  | /   \ 
                               | |   \ \_/ / |\ \  | | | |/ /| | | |/ /^\ \ 
                               \_|    \___/\_| \_| \_/ |___/ \_| |_/\/   \/
                                            
                                            

"""       




init(autoreset=True)

GREEN = Fore.GREEN
RED = Fore.RED
BLUE = Fore.BLUE
YELLOW = Fore.YELLOW

def get_my_ip():
    with socket.socket(socket.AF_INET, socket.SOCK_DGRAM) as s:
        s.connect(('8.8.8.8', 80))
        return s.getsockname()[0]

def scan_port(ip, port):
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
        sock.settimeout(0.001)
        try:
            sock.connect((ip, port))
            print(f"{GREEN}[OPEN] {YELLOW}>>> {GREEN} {port}  {YELLOW}<<< ")
            with open("port_open.txt", 'a') as f:
                f.write(f"{port}\n")
            return port
        except socket.error:
            print(f"{RED}[CLOSE] {YELLOW}> {BLUE}Port: {port}")

my_ip = get_my_ip()

print(banner)

port_start = int(input(f"{BLUE}[{RED}?{BLUE}] {RED}Start port: {BLUE}"))
port_end = int(input(f"{BLUE}[{RED}?{BLUE}] {RED}End port: {BLUE}"))

os.system('cls')

ports_ouverts = []

for port in range(port_start, port_end + 1):
    result = scan_port(my_ip, port)
    if result:
        ports_ouverts.append(result)

